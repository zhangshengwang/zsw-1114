<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>深度克隆</title>
  </head>
  <body>
  <script type="text/javascript">
    function isPlainObject(o){
      return Object.prototype.toString.call(o) === '[object Object]';
    }
    function deepCopy(obj){
      var o;
      if(typeof obj === 'object'){
      if(isPlainObject(obj)){
        o = {};
        for ( var key in obj){
          o[key] = deepCopy(obj[key]);
        }
        return o;
      } else{
        0 = [];
        for (var i = 0;i < obj.length;i++){
          o[i] = deepCopy(obj[i]);
        }
        return o;
      }
    }else{
      return obj;
    }
    }
    var stu = {name:'lisi',age:22, hobby:["one","two",{three:[1,2,3]}]  };
    var result = deepCopy(stu);
    result.hobby[2].three.push(4);
    console.log("result = ",result);
    console.log("stu = ",stu);
  </script>
  </body>
</html>
