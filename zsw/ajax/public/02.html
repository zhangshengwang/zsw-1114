<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>xiaomidenglu</title>
    <style media="screen">
      *{
        margin:0;
        padding:0;
      }
      .denglukuang{
        width:332px;
        height:250px;
        margin:100px 200px;
        padding:100px 33px 240px 33px;
        border:1px solid red;


      }
      .denglukuang > p{
        color:red;
        visibility:hidden;


      }
      .denglukuang .zhanghao{
        width:334px;
        height:48px;
        border:1px solid black;
        position:relative;


      }
      .denglukuang .zhanghao > input{
        float:left;
        width:260px;
        height:48px;
        font-size:16px;
        border:none;
        outline:none;
        margin-left:20px;


      }
      .denglukuang .zhanghao > span{
        position:absolute;
        top:10px;
        left:20px;
      }
      .denglukuang .mima{
        width:334px;
        height:48px;
        border:1px solid black;
        margin:15px auto 24px auto;
        position:absolute;
      }
      .denglukuang .mima > input{
        float:left;
        width:260px;
        height:48px;
        font-size:16px;
        border:none;
        outline:none;
        margin-left:20px;

      }
      .denglukuang .mima > span{
        position:absolute;
        top:10px;
        left:20px;
      }
      .denglukuang .denglu{
        width:336px;
        height:50px;
        background:red;
        position:absolute;
        top:340px;


      }
    </style>
  </head>
  <body>
    <div class="denglukuang">
    <p></p>
      <div class="zhanghao">
        <input type="text" name="username">
        <span>邮箱/手机号码/小米账号</span>
      </div>
      <div class="mima">
        <input type="passwd" name="password">
        <span>密码</span>
      </div>
      <button class="denglu">登录</button>

    </div>
    <script src="./jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript">
    $(function(){
      $(".denglukuang > span ").click(function(){
       $(".denglukuang > span").css("visibility","hidden");


     });
    });

  $(function(){
    $(".denglu").click(function(){
      var username = $(".zhanghao input[name=username]").val();
      var password = $(".mima input[name=password]").val();
      if((!username)|| (!password)){
        $(".denglukuang > p").css("visibility","visible");
        return;
      }
      $.ajax({
        method:"post",
        url:"/login",
        data:{name:username,passwd:password},
        success:function(data, textStatus, jqXHR){
          //console.log("recv from server:", data);
          //console.log("http status code:" + textStatus);
          if(data=="OK"){
          window.location = "https://www.jd.com";
        }else{
          $(" input").val("");
          alert("用户名和密码错误");
          /*$(".mima input").val("");
          alert("用户名和密码错误");*/
        }
      },
            error:function(jqXHR,textStatus,error){
              console.log(error);

          }

      });
    });
});
    </script>

  </body>
</html>
